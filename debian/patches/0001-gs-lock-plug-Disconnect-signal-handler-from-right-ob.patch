From ccaeb4c499e26560d48a9ccbf00254bb96076745 Mon Sep 17 00:00:00 2001
From: Iain Lane <iain@orangesquash.org.uk>
Date: Thu, 16 Jul 2015 16:09:19 +0200
Subject: [PATCH] gs-lock-plug: Disconnect signal handler from right object

It's connected to a GdkKeymap, not a GSLockPlug.

https://bugzilla.gnome.org/show_bug.cgi?id=752202
---
 src/gs-lock-plug.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

Index: gnome-screensaver-3.6.1.orig/src/gs-lock-plug.c
===================================================================
--- gnome-screensaver-3.6.1.orig.orig/src/gs-lock-plug.c	2012-08-21 01:12:39.000000000 +0800
+++ gnome-screensaver-3.6.1.orig/src/gs-lock-plug.c	2017-10-17 22:46:10.000000000 +0800
@@ -483,7 +483,7 @@
                 g_signal_handler_disconnect (plug, unmap_handler);
                 g_signal_handler_disconnect (plug, delete_handler);
                 g_signal_handler_disconnect (plug, destroy_handler);
-                g_signal_handler_disconnect (plug, keymap_handler);
+                g_signal_handler_disconnect (keymap, keymap_handler);
         }
 
         g_object_unref (plug);
